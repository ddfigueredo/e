(this.webpackJsonpproductoapi=this.webpackJsonpproductoapi||[]).push([[0],{37:function(e,t,c){},38:function(e,t,c){},47:function(e,t,c){"use strict";c.r(t);var a=c(3),s=c.n(a),n=c(31),o=c.n(n),l=(c(37),c(6)),i=(c.p,c(38),c(11)),r=c(10),j=s.a.createContext({}),d=c(2);var b=function(e){e.data;var t=e.id,c=e.data,s=c.price,n=c.name,o=c.image,r=c.stock,b=Object(a.useState)("Purchase"),u=Object(l.a)(b,2),m=u[0],p=u[1],O=Object(a.useState)({backgroundColor:"#0088a9"}),h=Object(l.a)(O,2),g=h[0],x=h[1],f={cursor:"no-drop",backgroundColor:"#a4d0db"},v=function(){r<1?(p("No stock"),x({backgroundColor:"rgb(136, 0, 0)"})):(p("Purchased"),x({backgroundColor:"green"}))};return Object(d.jsx)(j.Consumer,{children:function(e){return Object(d.jsxs)("div",{className:"prod_card",children:[Object(d.jsx)("div",{className:"prod_img",children:Object(d.jsx)("img",{src:o})}),Object(d.jsxs)("div",{className:"prod_text",children:[Object(d.jsxs)("p",{className:"prod_price",children:["US$ ",s]}),Object(d.jsx)("p",{className:"prod_name",children:n}),Object(d.jsx)(i.b,{to:"/product/"+t,children:Object(d.jsx)("button",{className:"prod_button",children:"See details"})}),e.userLogin&&Object(d.jsx)("button",{className:"prod_button",onClick:v,style:g,children:m}),!e.userLogin&&Object(d.jsx)("button",{className:"prod_button",style:f,"data-title":"You must Log In to buy",children:m})]})]})}})},u=c(21);u.a.initializeApp({apiKey:"AIzaSyCcVddYpkml6FAhkMeRs58zLqY4LnhIcjs",authDomain:"ecommerce-e16eb.firebaseapp.com",projectId:"ecommerce-e16eb",storageBucket:"ecommerce-e16eb.appspot.com",messagingSenderId:"229202654176",appId:"1:229202654176:web:b5a3ad14b1e8ed59623185",measurementId:"G-VCKMGY7WJ1"}),u.a.auth=u.a.auth(),u.a.db=u.a.firestore();var m=u.a;var p=function(e){var t=e.icon,c=e.text,a=e.type,s=e.styles,n=e.click,o=e.classn;return Object(d.jsxs)("button",{className:o||"tool_btn",type:a,style:s,onClick:n,children:[Object(d.jsx)("i",{className:t}),Object(d.jsx)("p",{children:"| "+c})]})},O=c(18),h=c(16);var g=function(e){var t=Object(a.useState)({name:"",price:"",description:"",image:"",stock:""}),c=Object(l.a)(t,2),s=c[0],n=c[1],o=Object(a.useState)("Add item"),i=Object(l.a)(o,2),r=i[0],j=i[1],b=Object(a.useState)("fas fa-plus-circle"),u=Object(l.a)(b,2),g=u[0],x=u[1],f=Object(a.useState)({backgroundColor:"#0088a9"}),v=Object(l.a)(f,2),N=v[0],_=v[1],y=function(e){var t=e.target.name,c=e.target.value;console.log(t,c),n(Object(h.a)(Object(h.a)({},s),{},Object(O.a)({},t,c)))};return Object(d.jsx)("div",{className:"tool_card",style:e.styles,children:Object(d.jsx)("div",{className:"tool",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m.db.collection("products").add({name:s.name,description:s.description,price:s.price,image:s.image,stock:s.stock,sales:0},{merge:!0}).then((function(e){console.log("Doc",e),x("fas fa-thumbs-up"),_({backgroundColor:"green"}),j("Successfully added")})).catch((function(e){console.log("Error",e),x("fas fa-thumbs-down"),_({backgroundColor:"rgb(136, 0, 0)"}),j("Error")}))},className:"tool_form",children:[Object(d.jsx)("input",{type:"text",name:"image",value:s.image,onChange:y,className:"tool_input",placeholder:"Image (Enter the URL)"}),Object(d.jsx)("input",{type:"text",name:"name",value:s.name,onChange:y,className:"tool_input",placeholder:"Name"}),Object(d.jsx)("input",{type:"text",name:"description",value:s.description,onChange:y,className:"tool_input",placeholder:"Description"}),Object(d.jsx)("input",{type:"number",min:"1",name:"price",value:s.price,onChange:y,className:"tool_input",placeholder:"Price"}),Object(d.jsx)("input",{type:"number",min:"1",name:"stock",value:s.stock,onChange:y,className:"tool_input",placeholder:"Stock"}),Object(d.jsx)(p,{icon:g,text:r,type:"sumbit",styles:N})]})})})};var x=function(e){var t=Object(a.useState)([]),c=Object(l.a)(t,2),s=c[0],n=c[1],o=Object(a.useState)(!0),i=Object(l.a)(o,2),r=i[0],j=i[1],u=Object(a.useState)({opacity:0}),O=Object(l.a)(u,2),h=O[0],x=O[1],f=Object(a.useState)(!0),v=Object(l.a)(f,2),N=v[0],_=v[1];return Object(a.useEffect)((function(){m.db.collection("products").get().then((function(e){console.log(e.docs),n(e.docs),j(!1)}))}),[]),r?Object(d.jsx)("p",{className:"loader",children:"cargando..."}):Object(d.jsxs)("div",{className:"home",children:[Object(d.jsx)("p",{className:"home_title",children:"Products List"}),s.map((function(e){return Object(d.jsx)(b,{id:e.id,data:e.data()})})),Object(d.jsx)("div",{className:"tool_btn_card",children:Object(d.jsx)(p,{text:"Add",icon:"fas fa-plus-circle",click:function(){N?(x({opacity:1}),_(!1)):(x({opacity:0}),_(!0))}})}),Object(d.jsx)("div",{className:"tools_card",children:Object(d.jsx)(g,{styles:h})})]})};var f=function(){var e=Object(a.useContext)(j),t=Object(a.useState)({email:"",pass:""}),c=Object(l.a)(t,2),s=c[0],n=c[1],o=Object(a.useState)("Continue"),b=Object(l.a)(o,2),u=b[0],g=b[1],x=Object(a.useState)("fas fa-arrow-circle-right"),f=Object(l.a)(x,2),v=f[0],N=f[1],_=Object(a.useState)({backgroundColor:"#0088a9"}),y=Object(l.a)(_,2),S=y[0],C=y[1],k=Object(r.e)(),E=function(e){var t=e.target.name,c=e.target.value;console.log(t,c),n(Object(h.a)(Object(h.a)({},s),{},Object(O.a)({},t,c)))};return Object(d.jsx)("div",{className:"login",children:Object(d.jsxs)("div",{className:"log_card",children:[Object(d.jsx)("p",{className:"log_title",children:"Log in"}),Object(d.jsxs)("form",{className:"log_form",onSubmit:function(t){t.preventDefault(),console.log(s),m.auth.signInWithEmailAndPassword(s.email,s.pass).then((function(t){console.log("Login ok",t),g("Success"),N("fas fa-thumbs-up"),C({backgroundColor:"green"}),e.loginUser(),console.log(e.setUserLogin),k.push("/")})).catch((function(e){console.log("Error",e),N("fas fa-thumbs-down"),C({backgroundColor:"rgb(136, 0, 0)"}),g("Error")}))},children:[Object(d.jsxs)("div",{className:"log_field",children:[Object(d.jsx)("input",{type:"email",value:s.email,onChange:E,placeholder:"Email",name:"email",required:!0}),Object(d.jsx)("div",{className:"underline"})]}),Object(d.jsxs)("div",{className:"log_field",children:[Object(d.jsx)("input",{type:"password",value:s.pass,onChange:E,placeholder:"Password",name:"pass",required:!0}),Object(d.jsx)("div",{className:"underline"})]}),Object(d.jsx)("p",{className:"log_pass",children:"Forgot password?"}),Object(d.jsx)(p,{icon:v,text:u,type:"sumbit",styles:S,classn:"log_btn"}),Object(d.jsxs)("div",{className:"log_signup",children:["New to e-commerce? ",Object(d.jsx)(i.b,{to:"/signup",children:"Sign up"})]})]})]})})};var v=function(){var e=Object(a.useState)({name:"",lastname:"",email:"",pass:"",cpass:""}),t=Object(l.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)("Continue"),o=Object(l.a)(n,2),i=o[0],r=o[1],j=Object(a.useState)("fas fa-arrow-circle-right"),b=Object(l.a)(j,2),u=b[0],g=b[1],x=Object(a.useState)({backgroundColor:"#0088a9"}),f=Object(l.a)(x,2),v=f[0],N=f[1],_=function(e){var t=e.target.name,a=e.target.value;console.log(t,a),s(Object(h.a)(Object(h.a)({},c),{},Object(O.a)({},t,a)))};return Object(d.jsx)("div",{className:"signup",children:Object(d.jsxs)("div",{className:"log_card",children:[Object(d.jsx)("p",{className:"log_title",children:"Sign up"}),Object(d.jsxs)("form",{className:"log_form",onSubmit:function(e){e.preventDefault(),console.log(c),m.auth.createUserWithEmailAndPassword(c.email,c.pass).then((function(e){console.log("Registro",e.user.uid),m.db.collection("users").add({name:c.name,lastname:c.lastname,email:c.email,userId:e.user.uid}).then((function(e){r("Success"),g("fas fa-thumbs-up"),N({backgroundColor:"green"})})).catch((function(e){console.log("Error add",e),g("fas fa-thumbs-down"),N({backgroundColor:"rgb(136, 0, 0)"}),r("Error")}))})).catch((function(e){console.log("Error",e)}))},children:[Object(d.jsxs)("div",{className:"log_field",children:[Object(d.jsx)("input",{type:"text",value:c.name,onChange:_,placeholder:"Name",name:"name",required:!0}),Object(d.jsx)("div",{className:"underline"})]}),Object(d.jsxs)("div",{className:"log_field",children:[Object(d.jsx)("input",{type:"text",value:c.lastname,onChange:_,placeholder:"Last name",name:"lastname",required:!0}),Object(d.jsx)("div",{className:"underline"})]}),Object(d.jsxs)("div",{className:"log_field",children:[Object(d.jsx)("input",{type:"email",value:c.email,onChange:_,placeholder:"Email",name:"email",required:!0}),Object(d.jsx)("div",{className:"underline"})]}),Object(d.jsxs)("div",{className:"log_field",children:[Object(d.jsx)("input",{type:"password",value:c.pass,onChange:_,placeholder:"Password",name:"pass",required:!0}),Object(d.jsx)("div",{className:"underline"})]}),Object(d.jsxs)("div",{className:"log_field",children:[Object(d.jsx)("input",{type:"password",value:c.cpass,onChange:_,placeholder:"Confirm password",name:"cpass",required:!0}),Object(d.jsx)("div",{className:"underline"})]}),Object(d.jsx)(p,{icon:u,text:i,type:"sumbit",styles:v,classn:"log_btn"})]})]})})};var N=function(e){return Object(d.jsx)(j.Consumer,{children:function(e){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("li",{className:"nav_logo",children:"E-CoMMERCE"}),Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{className:"nav_links",children:[e.userLogin&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(i.b,{to:"/",children:Object(d.jsx)("li",{children:"Home"})}),Object(d.jsx)("li",{onClick:function(){return e.logoutUser()},className:"signup-t",children:"Log Out"})]}),!e.userLogin&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(i.b,{to:"/",children:Object(d.jsx)("li",{children:"Home"})}),Object(d.jsx)(i.b,{to:"/login",children:Object(d.jsx)("li",{children:"Log In"})}),Object(d.jsx)(i.b,{to:"/signup",children:Object(d.jsx)("li",{className:"signup-t",children:"Sign Up"})})]})]})})]}),Object(d.jsxs)("header",{className:"header_alt",children:[Object(d.jsx)("li",{className:"nav_logo",children:"E-CoMMERCE"}),Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{className:"nav_links",children:[Object(d.jsx)(i.b,{to:"/",children:Object(d.jsx)("li",{children:"Home"})}),Object(d.jsx)(i.b,{to:"/login",children:Object(d.jsx)("li",{children:"Log in"})}),Object(d.jsx)(i.b,{to:"/signup",children:Object(d.jsx)("li",{className:"signup-t",children:"Sign up"})})]})})]})]})}})};var _=function(e){e.data,e.id;var t=e.data,c=t.price,s=t.name,n=t.image,o=t.description,i=t.stock,r=t.sales,b=Object(a.useState)("PURCHASE"),u=Object(l.a)(b,2),m=u[0],p=u[1],O=Object(a.useState)({backgroundColor:"#0088a9"}),h=Object(l.a)(O,2),g=h[0],x=h[1],f={cursor:"no-drop",backgroundColor:"#a4d0db"},v=function(){i<1?(p("NO STOCK"),x({backgroundColor:"rgb(136, 0, 0)"})):(p("PURCHASED"),x({backgroundColor:"green"}))};return Object(d.jsx)(j.Consumer,{children:function(e){return Object(d.jsxs)("div",{className:"prod-detail_card",children:[Object(d.jsx)("div",{className:"prod-detail_img",children:Object(d.jsx)("img",{src:n})}),Object(d.jsxs)("div",{className:"prod-detail_text",children:[Object(d.jsxs)("p",{className:"prod-detail_sales",children:[r," sold"]}),Object(d.jsx)("p",{className:"prod-detail_name",children:s}),Object(d.jsx)("p",{className:"prod-detail_description",children:o}),Object(d.jsxs)("p",{className:"prod-detail_price",children:["US$ ",c]}),e.userLogin&&Object(d.jsx)("button",{className:"prod-detail_button",onClick:v,style:g,children:m}),!e.userLogin&&Object(d.jsx)("button",{className:"prod-detail_button",style:f,"data-title":"You must Log In to buy",children:m}),Object(d.jsxs)("p",{className:"prod-detail_stock",children:["(",i," units left)"]})]})]})}})};var y=function(e){var t=e.match.params.id,c=Object(a.useState)({}),s=Object(l.a)(c,2),n=s[0],o=s[1],i=Object(a.useState)(!0),r=Object(l.a)(i,2),j=r[0],b=r[1],u=Object(a.useState)("Save changes"),x=Object(l.a)(u,2),f=x[0],v=x[1],N=Object(a.useState)("fas fa-save"),y=Object(l.a)(N,2),S=y[0],C=y[1],k=Object(a.useState)({backgroundColor:"#0088a9"}),E=Object(l.a)(k,2),L=E[0],I=E[1],w=Object(a.useState)({name:"",price:"",description:"",image:"",stock:""}),P=Object(l.a)(w,2),D=P[0],U=P[1],A=Object(a.useState)({opacity:0}),q=Object(l.a)(A,2),F=q[0],R=q[1],M=Object(a.useState)(!0),H=Object(l.a)(M,2),z=H[0],Y=H[1],B=Object(a.useState)({opacity:0}),G=Object(l.a)(B,2),J=G[0],K=G[1],T=Object(a.useState)(!0),W=Object(l.a)(T,2),V=W[0],$=W[1],Q=Object(a.useState)({opacity:0}),X=Object(l.a)(Q,2),Z=X[0],ee=X[1],te=Object(a.useState)(!0),ce=Object(l.a)(te,2),ae=(ce[0],ce[1]);Object(a.useEffect)((function(){m.db.doc("products/"+t).get().then((function(e){o(e),b(!1),U({name:e.data().name,description:e.data().description,price:e.data().price,image:e.data().image,stock:e.data().stock})}))}),[]);var se=function(e){var t=e.target.name,c=e.target.value;console.log(t,c),U(Object(h.a)(Object(h.a)({},D),{},Object(O.a)({},t,c)))};return j?Object(d.jsx)("p",{className:"loader",children:"cargando..."}):Object(d.jsxs)("div",{className:"details",children:[Object(d.jsx)("p",{className:"prod-detail_title",children:"Product detail"}),Object(d.jsx)(_,{data:n.data()}),Object(d.jsxs)("div",{className:"tool_btn_card",children:[Object(d.jsx)(p,{text:"Add",icon:"fas fa-plus-circle",click:function(){V?(K({opacity:1,zIndex:1}),$(!1),R({opacity:0}),Y(!0),ee({opacity:0}),ae(!1)):(K({opacity:0}),$(!0))}}),Object(d.jsx)(p,{text:"Edit",icon:"fas fa-edit",click:function(){z?(R({opacity:1,zIndex:1}),Y(!1),K({opacity:0}),$(!0),ee({opacity:0}),ae(!1)):(R({opacity:0}),Y(!0))}}),Object(d.jsx)(p,{text:"Delete",icon:"fas fa-minus-circle",click:function(e){e.preventDefault(),m.db.doc("products/"+t).delete().then((function(e){console.log("Doc",e),ee({opacity:1}),ae(!1),R({opacity:0}),Y(!0),K({opacity:0}),$(!0)})).catch((function(e){console.log("Error",e)}))}})]}),Object(d.jsxs)("div",{className:"tools_card",children:[Object(d.jsx)("div",{className:"tool_card",style:F,children:Object(d.jsx)("div",{className:"tool",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m.db.doc("products/"+t).set({name:D.name,description:D.description,price:D.price,image:D.image,stock:D.stock},{merge:!0}).then((function(e){console.log("Doc",e),C("fas fa-thumbs-up"),I({backgroundColor:"green"}),v("Succesfuly saved")})).catch((function(e){console.log("Error",e),C("fas fa-thumbs-down"),I({backgroundColor:"rgb(136, 0, 0)"}),v("Error")}))},className:"tool_form",children:[Object(d.jsx)("input",{type:"text",name:"image",value:D.image,onChange:se,className:"tool_input",placeholder:"Image (Enter the URL)"}),Object(d.jsx)("input",{type:"text",name:"name",value:D.name,onChange:se,className:"tool_input",placeholder:"Name"}),Object(d.jsx)("input",{type:"text",name:"description",value:D.description,onChange:se,className:"tool_input",placeholder:"Description"}),Object(d.jsx)("input",{type:"number",min:"1",name:"price",value:D.price,onChange:se,className:"tool_input",placeholder:"Price"}),Object(d.jsx)("input",{type:"number",min:"1",name:"stock",value:D.stock,onChange:se,className:"tool_input",placeholder:"Stock"}),Object(d.jsx)(p,{icon:S,text:f,type:"sumbit",styles:L})]})})}),Object(d.jsx)(g,{styles:J}),Object(d.jsx)("div",{className:"delete_card",style:Z,children:"Item deleted successfully."})]})]})};var S=function(e){return Object(d.jsx)(i.b,{to:"/",className:"goHome_button",children:Object(d.jsx)(p,{text:"Go home",icon:"fas fa-home"})})};var C=function(e){var t=Object(a.useState)(localStorage.getItem("login")),c=Object(l.a)(t,2),s=c[0],n=c[1],o=Object(a.useState)({}),i=Object(l.a)(o,2),r=(i[0],i[1]);return Object(d.jsx)(j.Provider,{value:{userLogin:s,loginUser:function(e){n(!0),localStorage.setItem("login",!0),r(e)},logoutUser:function(){n(!1),localStorage.removeItem("login")}},children:e.children})};var k=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2);return t[0],t[1],Object(d.jsx)(C,{children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(N,{}),Object(d.jsx)(r.a,{path:"/",component:x,exact:!0}),Object(d.jsx)(r.a,{path:"/ecommerce",component:S,exact:!0}),Object(d.jsx)(r.a,{path:"/login",component:f,exact:!0}),Object(d.jsx)(r.a,{path:"/signup",component:v,exact:!0}),Object(d.jsx)(r.a,{path:"/product/:id",component:y,exact:!0})]})})},E=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,48)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,o=t.getTTFB;c(e),a(e),s(e),n(e),o(e)}))};o.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(k,{})}),document.getElementById("root")),E()}},[[47,1,2]]]);
//# sourceMappingURL=main.c6cadf92.chunk.js.map