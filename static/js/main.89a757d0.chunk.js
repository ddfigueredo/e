(this.webpackJsonpproductoapi=this.webpackJsonpproductoapi||[]).push([[0],{47:function(e,t,c){},48:function(e,t,c){},74:function(e,t,c){"use strict";c.r(t);var a=c(3),s=c.n(a),n=c(40),i=c.n(n),l=(c(47),c.p,c(48),c(12)),o=c(9),r=c(10),d=c(2);var j=function(e){e.data;var t=e.id,c=e.data,s=c.price,n=c.name,i=c.image,o=c.stock,j=Object(a.useState)("Purchase"),b=Object(r.a)(j,2),u=b[0],m=b[1],p=Object(a.useState)({backgroundColor:"#0088a9"}),O=Object(r.a)(p,2),h=O[0],x=O[1];return Object(d.jsxs)("div",{className:"prod_card",children:[Object(d.jsx)("div",{className:"prod_img",children:Object(d.jsx)("img",{src:i})}),Object(d.jsxs)("div",{className:"prod_text",children:[Object(d.jsxs)("p",{className:"prod_price",children:["US$ ",s]}),Object(d.jsx)("p",{className:"prod_name",children:n}),Object(d.jsx)(l.b,{to:"/product/"+t,children:Object(d.jsx)("button",{className:"prod_button",children:"See details"})}),Object(d.jsx)("button",{className:"prod_button",onClick:function(){o<1?(m("No stock"),x({backgroundColor:"rgb(136, 0, 0)"})):(m("Purchased"),x({backgroundColor:"green"}))},style:h,children:u})]})]})},b=c(22);b.a.initializeApp({apiKey:"AIzaSyCcVddYpkml6FAhkMeRs58zLqY4LnhIcjs",authDomain:"ecommerce-e16eb.firebaseapp.com",projectId:"ecommerce-e16eb",storageBucket:"ecommerce-e16eb.appspot.com",messagingSenderId:"229202654176",appId:"1:229202654176:web:b5a3ad14b1e8ed59623185",measurementId:"G-VCKMGY7WJ1"}),b.a.auth=b.a.auth(),b.a.db=b.a.firestore();var u=b.a,m=c(42);c.n(m).a.create({baseURL:"https://jsonfy.com/"});var p=function(e){var t=Object(a.useState)([]),c=Object(r.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)(!0),l=Object(r.a)(i,2),o=l[0],b=l[1];return Object(a.useEffect)((function(){u.db.collection("products").get().then((function(e){console.log(e.docs),n(e.docs),b(!1)}))}),[]),o?Object(d.jsx)("p",{className:"loader",children:"cargando..."}):Object(d.jsxs)("div",{className:"home",children:[Object(d.jsx)("p",{className:"home_title",children:"Products List"}),s.map((function(e){return Object(d.jsx)(j,{id:e.id,data:e.data()})}))]})},O=c(19),h=c(18);var x=function(){var e=Object(a.useState)({email:"",pass:""}),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(o.e)(),i=function(e){var t=e.target.name,a=e.target.value;console.log(t,a),s(Object(h.a)(Object(h.a)({},c),{},Object(O.a)({},t,a)))};return Object(d.jsx)("div",{className:"login",children:Object(d.jsxs)("div",{className:"log_card",children:[Object(d.jsx)("p",{className:"log_title",children:"Log in"}),Object(d.jsxs)("form",{className:"log_form",onSubmit:function(e){e.preventDefault(),console.log(c),u.auth.signInWithEmailAndPassword(c.email,c.pass).then((function(e){console.log("Login OK",e),n.push("/")})).catch((function(e){console.log("Error",e),alert("Invalid user/password")}))},children:[Object(d.jsxs)("div",{className:"log_field",children:[Object(d.jsx)("input",{type:"email",value:c.email,onChange:i,placeholder:"Email",name:"email",required:!0}),Object(d.jsx)("div",{className:"underline"})]}),Object(d.jsxs)("div",{className:"log_field",children:[Object(d.jsx)("input",{type:"password",value:c.pass,onChange:i,placeholder:"Password",name:"pass",required:!0}),Object(d.jsx)("div",{className:"underline"})]}),Object(d.jsx)("p",{className:"log_pass",children:"Forgot password?"}),Object(d.jsx)("button",{type:"submit",className:"log_button",children:"Continue"}),Object(d.jsxs)("div",{className:"log_signup",children:["New to e-commerce? ",Object(d.jsx)(l.b,{to:"/signup",children:"Sign up"})]})]})]})})};var g=function(){var e=Object(a.useState)({name:"",lastname:"",email:"",pass:"",cpass:""}),t=Object(r.a)(e,2),c=t[0],s=t[1],n=function(e){var t=e.target.name,a=e.target.value;console.log(t,a),s(Object(h.a)(Object(h.a)({},c),{},Object(O.a)({},t,a)))};return Object(d.jsx)("div",{className:"signup",children:Object(d.jsxs)("div",{className:"log_card",children:[Object(d.jsx)("p",{className:"log_title",children:"Sign up"}),Object(d.jsxs)("form",{className:"log_form",onSubmit:function(e){e.preventDefault(),console.log(c),u.auth.createUserWithEmailAndPassword(c.email,c.pass).then((function(e){console.log("Registro",e.user.uid),u.db.collection("users").add({name:c.name,lastname:c.lastname,email:c.email,userId:e.user.uid}).then((function(e){console.log(e)})).catch((function(e){console.log("Error add",e)}))})).catch((function(e){console.log("Error",e)}))},children:[Object(d.jsxs)("div",{className:"log_field",children:[Object(d.jsx)("input",{type:"text",value:c.name,onChange:n,placeholder:"Name",name:"name",required:!0}),Object(d.jsx)("div",{className:"underline"})]}),Object(d.jsxs)("div",{className:"log_field",children:[Object(d.jsx)("input",{type:"text",value:c.lastname,onChange:n,placeholder:"Last name",name:"lastname",required:!0}),Object(d.jsx)("div",{className:"underline"})]}),Object(d.jsxs)("div",{className:"log_field",children:[Object(d.jsx)("input",{type:"email",value:c.email,onChange:n,placeholder:"Email",name:"email",required:!0}),Object(d.jsx)("div",{className:"underline"})]}),Object(d.jsxs)("div",{className:"log_field",children:[Object(d.jsx)("input",{type:"password",value:c.pass,onChange:n,placeholder:"Password",name:"pass",required:!0}),Object(d.jsx)("div",{className:"underline"})]}),Object(d.jsxs)("div",{className:"log_field",children:[Object(d.jsx)("input",{type:"password",value:c.cpass,onChange:n,placeholder:"Confirm password",name:"cpass",required:!0}),Object(d.jsx)("div",{className:"underline"})]}),Object(d.jsx)("button",{type:"submit",className:"log_button",children:"Continue"})]})]})})};var v=function(e){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("li",{className:"nav_logo",children:"E-CoMMERCE"}),Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{className:"nav_links",children:[Object(d.jsx)(l.b,{to:"/",children:Object(d.jsx)("li",{children:"Home"})}),Object(d.jsx)(l.b,{to:"/login",children:Object(d.jsx)("li",{children:"Log in"})}),Object(d.jsx)(l.b,{to:"/signup",children:Object(d.jsx)("li",{className:"signup-t",children:"Sign up"})})]})})]}),Object(d.jsxs)("header",{className:"header_alt",children:[Object(d.jsx)("li",{className:"nav_logo",children:"E-CoMMERCE"}),Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{className:"nav_links",children:[Object(d.jsx)(l.b,{to:"/",children:Object(d.jsx)("li",{children:"Home"})}),Object(d.jsx)(l.b,{to:"/login",children:Object(d.jsx)("li",{children:"Log in"})}),Object(d.jsx)(l.b,{to:"/signup",children:Object(d.jsx)("li",{className:"signup-t",children:"Sign up"})})]})})]})]})};var N=function(e){e.data,e.id;var t=e.data,c=t.price,s=t.name,n=t.image,i=t.description,l=t.stock,o=t.sales,j=Object(a.useState)("PURCHASE"),b=Object(r.a)(j,2),u=b[0],m=b[1],p=Object(a.useState)({backgroundColor:"#0088a9"}),O=Object(r.a)(p,2),h=O[0],x=O[1];return Object(d.jsxs)("div",{className:"prod-detail_card",children:[Object(d.jsx)("div",{className:"prod-detail_img",children:Object(d.jsx)("img",{src:n})}),Object(d.jsxs)("div",{className:"prod-detail_text",children:[Object(d.jsxs)("p",{className:"prod-detail_sales",children:[o," sold"]}),Object(d.jsx)("p",{className:"prod-detail_name",children:s}),Object(d.jsx)("p",{className:"prod-detail_description",children:i}),Object(d.jsxs)("p",{className:"prod-detail_price",children:["US$ ",c]}),Object(d.jsx)("button",{className:"prod-detail_button",onClick:function(){l<1?(m("NO STOCK"),x({backgroundColor:"rgb(136, 0, 0)"})):(m("PURCHASED"),x({backgroundColor:"green"}))},style:h,children:u}),Object(d.jsxs)("p",{className:"prod-detail_stock",children:["(",l," units left)"]})]})]})};var f=function(e){var t=e.icon,c=e.text,a=e.click;return Object(d.jsxs)("div",{className:"buttonWico",onClick:a,children:[Object(d.jsx)("i",{className:t+" buttonWico_icon"}),Object(d.jsx)("p",{className:"buttonWico_text",children:c})]})};var _=function(e){var t=e.match.params.id,c=Object(a.useState)({}),s=Object(r.a)(c,2),n=s[0],i=s[1],l=Object(a.useState)(!0),o=Object(r.a)(l,2),j=o[0],b=o[1],m=Object(a.useState)("SAVE CHANGES"),p=Object(r.a)(m,2),x=p[0],g=p[1],v=Object(a.useState)({backgroundColor:"#0088a9"}),_=Object(r.a)(v,2),C=_[0],S=_[1],E=Object(a.useState)({name:"",price:"",description:"",image:""}),k=Object(r.a)(E,2),y=k[0],w=k[1],A=Object(a.useState)({opacity:0}),D=Object(r.a)(A,2),I=D[0],L=D[1],P=Object(a.useState)(!0),R=Object(r.a)(P,2),H=R[0],q=R[1];Object(a.useEffect)((function(){u.db.doc("products/"+t).get().then((function(e){i(e),b(!1),w({name:e.data().name,description:e.data().description,price:e.data().price,image:e.data().image})}))}),[]);var U=function(e){var t=e.target.name,c=e.target.value;console.log(t,c),w(Object(h.a)(Object(h.a)({},y),{},Object(O.a)({},t,c)))},W=function(e){e.preventDefault(),u.db.doc("products/"+t).delete().then((function(e){console.log("Doc",e)})).catch((function(e){console.log("Error",e)}))};return j?Object(d.jsx)("p",{className:"loader",children:"cargando..."}):Object(d.jsxs)("div",{className:"details",children:[Object(d.jsx)("p",{className:"prod-detail_title",children:"Product detail"}),Object(d.jsx)(N,{data:n.data()}),Object(d.jsxs)("div",{className:"buttonWico_card",children:[Object(d.jsx)(f,{text:"Add",icon:"fas fa-plus-circle",click:W}),Object(d.jsx)(f,{text:"Edit",icon:"fas fa-edit",click:function(){H?(L({opacity:1}),q(!1)):(L({opacity:0}),q(!0))}}),Object(d.jsx)(f,{text:"Delete",icon:"fas fa-minus-circle",click:W})]}),Object(d.jsxs)("div",{className:"edit-detail_card",style:I,children:[Object(d.jsxs)("div",{className:"edit-detail_img",children:[Object(d.jsx)("label",{children:"Image (Enter the URL)"}),Object(d.jsx)("input",{type:"text",name:"image",value:y.image,onChange:U,className:"edit_input",placeholder:"Image \n(Enter the URL)"})]}),Object(d.jsx)("div",{className:"edit-detail_text",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u.db.doc("products/"+t).set({name:y.name,description:y.description,price:y.price,image:y.image},{merge:!0}).then((function(e){console.log("Doc",e),S({backgroundColor:"green"}),g("CHANGES SAVED")})).catch((function(e){console.log("Error",e),S({backgroundColor:"rgb(136, 0, 0)"}),g("CHANGES WEREN'T SAVED")}))},className:"edit_form",children:[Object(d.jsx)("input",{type:"text",name:"name",value:y.name,onChange:U,className:"edit_input",placeholder:"Name"}),Object(d.jsx)("input",{type:"text",name:"description",value:y.description,onChange:U,className:"edit_input",placeholder:"Description"}),Object(d.jsx)("input",{type:"number",min:"1",name:"price",value:y.price,onChange:U,className:"edit_input",placeholder:"Price"}),Object(d.jsx)("button",{type:"sumbit",className:"save",style:C,children:x})]})})]})]})};var C=function(e){return Object(d.jsx)("div",{className:"goHome",children:Object(d.jsx)(l.b,{to:"/",className:"goHome_button",children:Object(d.jsx)(f,{text:"Go home",icon:"fas fa-home"})})})};var S=function(){return Object(d.jsxs)(l.a,{children:[Object(d.jsx)(v,{}),Object(d.jsx)(o.a,{path:"/",component:p,exact:!0}),Object(d.jsx)(o.a,{path:"/ecommerce",component:C,exact:!0}),Object(d.jsx)(o.a,{path:"/login",component:x,exact:!0}),Object(d.jsx)(o.a,{path:"/signup",component:g,exact:!0}),Object(d.jsx)(o.a,{path:"/product/:id",component:_,exact:!0})]})},E=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,75)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),a(e),s(e),n(e),i(e)}))};i.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(S,{})}),document.getElementById("root")),E()}},[[74,1,2]]]);
//# sourceMappingURL=main.89a757d0.chunk.js.map